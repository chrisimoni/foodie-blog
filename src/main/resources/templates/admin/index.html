<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8">
	  	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	  	<meta name="description" content="">
	  	<meta name="author" content="">
	  	
	  	<!-- Bootstrap core CSS -->
	 		<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
	
	  	<!-- Custom styles for this template -->
	  	<link th:href="@{/css/style.css}" rel="stylesheet">
		<title>Foodie blog - WIth Basic bootstrap template</title>
	</head>
<body>
	<div th:replace="fragments/adminheader :: adminheader"></div>

	<!-- Page Content -->
	  <div class="container">
	
	    <div class="row">
	
	      <!-- Blog Entries Column -->
	      <div class="col-md-10 offset-md-2 minHeight">
	
	        <h1 class="my-4">All Posts</h1>
	        
	        <div class="text-right"><a th:href="@{/admin/add_post}" class="btn btn-md btn-primary">Create Post</a></div> <br>
	        <p th:unless="${posts} and ${posts.size()}">You have not added any post</p>
	
	        <table class="table table-bordered">
			    <thead>
			      <tr>
			      	<th>Post ID</th>
			        <th>Title</th>
			        <th>Description</th>
			        <th>Date</th>
			        <th>Category</th>
			        <th>Action</th>
			      </tr>
			    </thead>
			    <tbody>
			      <tr th:each="post : ${posts}">
			      	<td th:text="${post.id}"></td>
			        <td th:text="${post.title}"></td>
			        <td th:text="${#strings.abbreviate(post.description,80)}"></td>
			        <td th:text="${#dates.format(post.createdAt, 'dd-MMM-yyyy')}"></td>
			        <td th:text="${post.category.category}"></td>
			        <td>
			        	<small><a th:href="@{/admin/edit/{id}(id=${post.id})}">Update</a></small> 
			        		| 
			        	<small><a onclick="return confirm('Are you sure you want to delete this post?');" th:href="@{/admin/delete/{id}(id=${post.id})}">Delete</a></small></td>
			      </tr>

			    </tbody>
			  </table>
	        
	
	        
	
	      </div>
	
	      
	
	    </div>
	    <!-- /.row -->
	
	  </div>
	  <!-- /.container -->



	<!--footer.html  that's here  -->
	<div th:replace="fragments/footer :: footer"></div>


	<!-- Bootstrap core JavaScript -->
	<script th:src="@{/js/jquery.min.js}"></script>
	<script th:src="@{/js/bootstrap.bundle.min.js}"></script>

</body>
</html>